<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<title>過去分詞</title>
</head>
<body>

<div id="quiz">
<p id="question">読み込み中...</p>

<label for="answer"></label>
<input id="answer" type="text" autocomplete="off" />
<button id="checkBtn">判定</button>

<p id="feedback" aria-live="polite"></p>

<div id="controls" style="margin-top:10px;">
<button id="nextBtn">次へ</button>
</div>
</div>
<style>
    body{text-align: center;}
    p,label{
        font-size: 48px;
        font-weight: bold;
        
    }

    input{
      width: 400px;
      height: 110px;
      margin: 5px;
      font-size: 48px;
      text-align: center;
      border: 4px solid #333;
      border-radius: 24px;
      background-color: #ffffff;
    }
     button{
       width: 200px;
       height: 120px;
       margin: 5px;
       font-size: 48px;
       text-align: center;
       border: 4px solid #333;
       border-radius: 12px;
       background-color: #fff6c5;
       cursor: pointer;
       transition:transform 0.1s;
    }

    button:active {
      transform: scale(0.9);
    }
</style>

<script>
const questions = [
{ q: "costの過去分詞は？", a: ["cost"] },
{ q: "cutの過去分詞は？", a: ["cut"] },
{ q: "hitの過去分詞は？", a: ["hit"] },
{ q: "hurt(傷つける)の過去分詞は？", a: ["hurt"] },
{ q: "let(させてあげる)の過去分詞は？", a: ["let"] },
{ q: "putの過去分詞は？", a: ["put"] },
{ q: "readの過去分詞は？", a: ["read"] },
{ q: "setの過去分詞は？", a: ["set"] },
{ q: "spread(広げる)の過去分詞は？", a: ["spread"] },
{ q: "beat(打ち負かす)の過去分詞は？", a: ["beaten","beat"] },
{ q: "becomeの過去分詞は？", a: ["become"] },
{ q: "comeの過去分詞は？", a: ["come"] },
{ q: "overcome(克服する)の過去分詞は？", a: ["overcome"] },
{ q: "runの過去分詞は？", a: ["run"] },
{ q: "bringの過去分詞は？", a: ["brought"] },
{ q: "buildの過去分詞は？", a: ["built"] },
{ q: "burnの過去分詞は？", a: ["burned","burnt"] },
{ q: "buyの過去分詞は？", a: ["bought"] },
{ q: "catchの過去分詞は？", a: ["caught"] },
{ q: "digの過去分詞は？", a: ["dug"] },
{ q: "feelの過去分詞は？", a: ["felt"] },
{ q: "fightの過去分詞は？", a: ["fought"] },
{ q: "findの過去分詞は？", a: ["found"] },
{ q: "forgetの過去分詞は？", a: ["forgotten","forgot"] },
{ q: "getの過去分詞は？", a: ["gotten","got"] },
{ q: "hang(つるす)の過去分詞は？", a: ["hung"] },
{ q: "haveの過去分詞は？", a: [""] },
{ q: "hearの過去分詞は？", a: [""] },
{ q: "holdの過去分詞は？", a: [""] },
{ q: "keepの過去分詞は？", a: [""] },
{ q: "の過去分詞は？", a: [""] },
{ q: "の過去分詞は？", a: [""] },
{ q: "の過去分詞は？", a: [""] },
{ q: "の過去分詞は？", a: [""] },
{ q: "の過去分詞は？", a: [""] },
{ q: "の過去分詞は？", a: [""] },
{ q: "の過去分詞は？", a: [""] },
{ q: "の過去分詞は？", a: [""] },
{ q: "の過去分詞は？", a: [""] },
{ q: "の過去分詞は？", a: [""] },
{ q: "の過去分詞は？", a: [""] },
{ q: "の過去分詞は？", a: [""] },
{ q: "の過去分詞は？", a: [""] },
{ q: "の過去分詞は？", a: [""] },
{ q: "の過去分詞は？", a: [""] },
{ q: "の過去分詞は？", a: [""] },
{ q: "の過去分詞は？", a: [""] },
{ q: "の過去分詞は？", a: [""] },
{ q: "の過去分詞は？", a: [""] },
{ q: "の過去分詞は？", a: [""] },
{ q: "の過去分詞は？", a: [""] },
{ q: "の過去分詞は？", a: [""] },
{ q: "の過去分詞は？", a: [""] },
{ q: "の過去分詞は？", a: [""] },
{ q: "の過去分詞は？", a: [""] },
{ q: "の過去分詞は？", a: [""] },
{ q: "の過去分詞は？", a: [""] },
{ q: "の過去分詞は？", a: [""] },
];


const questionEl = document.getElementById('question');
const answerInput = document.getElementById('answer');
const checkBtn = document.getElementById('checkBtn');
const feedback = document.getElementById('feedback');
const nextBtn = document.getElementById('nextBtn');

let idx = 0;

// 正答比較用
function normalize(str) {
return str
.replace(/\u3000/g, ' ') // 全角スペースを半角に
.replace(/\s+/g, ' ') // 連続空白を1つに
.trim()
.toLowerCase();
}

function loadQuestion(i) {
const item = questions[i];
questionEl.textContent = item ? item.q : "エラー!";
answerInput.value = "";
feedback.textContent = "";
answerInput.focus();
}

function checkAnswer() {
const user = normalize(answerInput.value);
const item = questions[idx];
if (!item) return;

// 複数正答に対応
const normalizedCorrect = item.a.map(a => normalize(a));

if (normalizedCorrect.includes(user) && user !== "") {
feedback.textContent = "正解！";
} else {
feedback.textContent = "不正解 - 答えは" + item.a.join(', ');
}
}

// 次の問題へ
function nextQuestion() {
idx++;
if (idx >= questions.length) {
idx = 0; 

}
loadQuestion(idx);
}

// イベント
checkBtn.addEventListener('click', checkAnswer);
nextBtn.addEventListener('click', nextQuestion);

//判定
answerInput.addEventListener('keydown', function(e) {
if (e.key === 'Enter') {
e.preventDefault();
checkAnswer();
}
});

// 初期表示
loadQuestion(idx);
</script>
</body>
</html>
